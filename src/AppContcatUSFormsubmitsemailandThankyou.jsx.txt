import React, { useState } from "react";
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import { motion } from "framer-motion";

import Hero from "./components/Hero";
import CaseStudies from "./components/CaseStudies";
import ContactForm from "./components/ContactForm";
import ThankYou from "./pages/ThankYou";

import Logo from "./assets/AifNN_darkbluebackground1.png";
import { Brain, Layers, Bot, Cpu } from "lucide-react";
import { FaHospital, FaMoneyBillWave, FaIndustry, FaShoppingCart, 
  FaTruck, 
  FaFighterJet, 
  FaCar, 
  FaSeedling, 
FaTractor,
FaBars, FaTimes,FaRobot } from "react-icons/fa";

import Button from "./components/Button";
// Modern dark theme inspired AI company landing page
// Uses TailwindCSS + framer-motion

function FormspreeContactForm() {
  const [status, setStatus] = React.useState("idle");

  const handleSubmit = async (e) => {
    e.preventDefault();
    setStatus("submitting");

    const form = e.target;
    const data = new FormData(form);

    const response = await fetch("https://formspree.io/f/mwopkak", {
 // üëà Replace this
      method: "POST",
      body: data,
      headers: { Accept: "application/json" },
    });

    if (response.ok) {
      form.reset();
      setStatus("success");
    } else {
      setStatus("error");
    }
  };

  return (
    <form
      onSubmit={handleSubmit}
      className="bg-gray-900 p-6 rounded-xl shadow transition-all"
    >
      {status === "success" ? (
        <p className="text-green-400 font-medium">
          ‚úÖ Thank you! Your message has been sent.
        </p>
      ) : (
        <>
          <label className="block text-sm text-gray-300">Name</label>
          <input
            className="mt-2 w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 text-white"
            name="name"
            required
          />

          <label className="block text-sm mt-4 text-gray-300">Email</label>
          <input
            className="mt-2 w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 text-white"
            type="email"
            name="email"
            required
          />

          <label className="block text-sm mt-4 text-gray-300">Message</label>
          <textarea
            className="mt-2 w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 text-white"
            rows={4}
            name="message"
            required
          />

          <button
            type="submit"
            disabled={status === "submitting"}
            className={`mt-6 w-full px-4 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium ${
              status === "submitting" ? "opacity-50 cursor-not-allowed" : ""
            }`}
          >
            {status === "submitting" ? "Sending..." : "Send Message"}
          </button>

          {status === "error" && (
            <p className="text-red-400 mt-3 text-sm">
              ‚ùå Something went wrong. Please try again later.
            </p>
          )}
        </>
      )}
    </form>
  );
}

// ---------- MAIN APP ----------
export default function App() {
  const [isContactOpen, setIsContactOpen] = useState(false);

  return (
    <Router>
      <div className="bg-[#0A1C3C] text-white font-sans overflow-x-hidden">
        <Routes>
          {/* ---------- HOME PAGE ---------- */}
          <Route
            path="/"
            element={
              <>
                {/* Navbar */}
                <header className="flex justify-between items-center px-8 py-4 bg-[#081529]/80 backdrop-blur-lg fixed w-full z-50">
                  <div className="flex items-center gap-2">
                    <img src={Logo} alt="AifNN Logo" className="h-12" />
                    <h1 className="text-2xl font-bold text-white">AifNN</h1>
                  </div>

                  <nav className="hidden md:flex gap-6 text-gray-300">
                    <a href="#about" className="hover:text-white">About</a>
                    <a href="#services" className="hover:text-white">Services</a>
                    <a href="#industries" className="hover:text-white">Industries</a>
                    <a href="#contact" className="hover:text-white">Contact</a>
                  </nav>

                  <button
                    onClick={() => setIsContactOpen(true)}
                    className="bg-red-500 px-5 py-2 rounded-lg hover:bg-red-600 transition"
                  >
                    Get in Touch
                  </button>
                </header>

                {/* Hero Section */}
                <section id="home">
                  <Hero />
                </section>

                {/* About Section */}
                <section
                  id="about"
                  className="max-w-7xl mx-auto px-6 py-20 text-center md:text-left"
                >
                  <h2 className="text-4xl font-bold mb-6 text-center">About Us</h2>
                  <p className="text-gray-300 text-lg leading-relaxed text-center">
                    We specialize in AI, ML, and automation ‚Äî helping enterprises integrate
                    intelligent systems to optimize performance, improve efficiency, and drive innovation.
                  </p>
                </section>

                {/* Services Section */}
                <section id="services" className="bg-[#081529] py-20 px-6">
                  <h2 className="text-4xl font-bold text-center mb-10">Our Core Services</h2>
                  <div className="grid md:grid-cols-4 gap-8 max-w-7xl mx-auto text-center">
                    <ServiceCard icon={<Brain size={40} />} title="AI Development" desc="Custom AI models to solve real business problems." />
                    <ServiceCard icon={<Layers size={40} />} title="Machine Learning" desc="Predictive analytics and data-driven automation." />
                    <ServiceCard icon={<Bot size={40} />} title="Automation" desc="Smart process automation for enterprise systems." />
                    <ServiceCard icon={<Cpu size={40} />} title="Embedded AI" desc="AI integration into IoT and edge devices." />
                  </div>
                </section>

                {/* Industries Section */}
                <section id="industries" className="py-20 px-6 bg-[#0C1F47]">
                  <h2 className="text-4xl font-bold text-center mb-10">Industries We Serve</h2>
                  <div className="grid md:grid-cols-4 gap-8 max-w-7xl mx-auto text-center">
                    <IndustryCard icon={<FaHospital size={40} />} title="Healthcare" desc="AI-assisted diagnostics and smart hospital systems." />
                    <IndustryCard icon={<FaMoneyBillWave size={40} />} title="Finance" desc="Predictive risk analysis and automation." />
                    <IndustryCard icon={<FaIndustry size={40} />} title="Manufacturing" desc="Predictive maintenance and smart automation." />
                    <IndustryCard icon={<FaRobot size={40} />} title="Robotics" desc="Autonomous and intelligent robotic systems." />
                  </div>
                </section>

                {/* Case Studies */}
                <CaseStudies />

                {/* Contact Section */}
                <section id="contact" className="bg-[#081529] py-20 px-6 text-center">
                  <h2 className="text-4xl font-bold mb-10">Contact Us</h2>
                  <div className="max-w-lg mx-auto">
                    <ContactForm />
                  </div>
                </section>

                {/* Footer */}
                <footer className="bg-[#061126] py-6 text-center text-gray-400 text-sm">
                  ¬© {new Date().getFullYear()} AifNN. All rights reserved.
                </footer>

                {/* Contact Modal */}
                {isContactOpen && (
                  <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50">
                    <motion.div
                      initial={{ opacity: 0, scale: 0.9 }}
                      animate={{ opacity: 1, scale: 1 }}
                      className="bg-[#0C1F47] p-8 rounded-2xl max-w-md w-full shadow-lg relative"
                    >
                      <button
                        className="absolute top-3 right-4 text-gray-400 hover:text-white"
                        onClick={() => setIsContactOpen(false)}
                      >
                        ‚úñ
                      </button>
                      <h3 className="text-2xl font-bold mb-4 text-center">Get in Touch</h3>
                      <ContactForm onSuccess={() => setIsContactOpen(false)} />
                    </motion.div>
                  </div>
                )}
              </>
            }
          />

          {/* ---------- THANK YOU PAGE ---------- */}
          <Route path="/thankyou" element={<ThankYou />} />
        </Routes>
      </div>
    </Router>
  );
}

// ---------- REUSABLE COMPONENTS ----------
const ServiceCard = ({ icon, title, desc }) => (
  <div className="bg-[#0C1F47] p-6 rounded-xl hover:-translate-y-2 hover:shadow-lg transition">
    <div className="flex justify-center mb-4 text-red-400">{icon}</div>
    <h3 className="text-xl font-semibold mb-2">{title}</h3>
    <p className="text-gray-300">{desc}</p>
  </div>
);

const IndustryCard = ({ icon, title, desc }) => (
  <div className="bg-[#0A1C3C] p-6 rounded-xl hover:-translate-y-2 hover:shadow-lg transition">
    <div className="flex justify-center mb-4 text-blue-400">{icon}</div>
    <h3 className="text-xl font-semibold mb-2">{title}</h3>
    <p className="text-gray-300">{desc}</p>
  </div>
);
